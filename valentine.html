<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíò A Question for You</title>
  <style>
    body{
      margin:0; height:100vh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: linear-gradient(135deg, #ffe6ee, #fff7fb);
    }
    .card{
      background: white; padding: 30px 26px; border-radius: 18px;
      box-shadow: 0 12px 35px rgba(0,0,0,.12);
      text-align:center; width:min(460px, 92vw);
      position: relative;
      overflow: hidden;
    }
    h1{ margin:0 0 6px; font-size: 28px; }
    .sub{ font-size:14px; color:#777; margin-bottom:14px; }
    p{ margin: 8px 0; color:#444; }
    h2{ margin:16px 0 18px; }
    .btns{
      display:flex; gap:14px; justify-content:center; align-items:center;
      margin-top: 6px;
      min-height: 70px;
      position: relative;
    }
    button{
      border:none; border-radius: 12px; padding: 12px 18px;
      font-weight: 800; cursor:pointer; font-size: 16px;
      transition: transform .15s ease, box-shadow .15s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    #yes{
      background:#ff4d6d; color:white;
      box-shadow: 0 10px 22px rgba(255,77,109,.28);
      transform: scale(1);
    }
    #yes:hover{ box-shadow: 0 12px 26px rgba(255,77,109,.35); }
    #no{
      background:#f1f1f1; color:#222;
      position:absolute;
      left: 55%;
      top: 8px;
    }
    .note{ margin-top:16px; font-size: 14px; color:#666; min-height: 20px;}
    .tiny{ font-size: 12px; color:#999; margin-top: 10px; }
  </style>
</head>
<body>
  <div class="card" id="card">
    <h1>Hey Aiman üíñ</h1>
    <div class="sub">From Brooklyn Bridge Park to forever üíç</div>

    <p>
      Remember that evening at Brooklyn Bridge Park ‚Äî
      the skyline, the sunset, and the moment that changed my life?
    </p>

    <p>
      I said ‚Äúyes‚Äù to you forever that day.
    </p>

    <h2>
      So I just have one question left‚Ä¶
      <br><br>
      Will you be my Valentine? üíò
    </h2>

    <div class="btns" id="btns">
      <button id="yes">Yes üíò</button>
      <button id="no" aria-label="No button">No üôÉ</button>
    </div>

    <div class="note" id="note">Go ahead‚Ä¶ try saying no üòÑ</div>
    <div class="tiny">psst: this page may be a little stubborn</div>
  </div>

  <script>
    const card = document.getElementById("card");
    const btns = document.getElementById("btns");
    const yes  = document.getElementById("yes");
    const no   = document.getElementById("no");
    const note = document.getElementById("note");

    let noAttempts = 0;
    let yesScale = 1;

    // Place "No" initially inside the button container
    placeNoRandomly(true);

    // Make "No" dodge the cursor (desktop)
    no.addEventListener("mouseenter", () => dodgeNo());

    // Make "No" dodge taps (mobile)
    no.addEventListener("touchstart", (e) => {
      e.preventDefault();
      dodgeNo(true);
    }, { passive: false });

    // Clicking "Yes" wins
    yes.addEventListener("click", () => {
      note.textContent = "She said yes again ü•∞üíò From Brooklyn Bridge Park to forever.";
      confetti();
      // Lock buttons after yes
      no.style.display = "none";
      yes.style.transform = "scale(1.08)";
      yes.textContent = "YES ‚úÖüíò";
    });

    function dodgeNo(isTouch=false){
      noAttempts++;

      // Grow the YES button every time NO tries to be clicked
      yesScale = Math.min(yesScale + 0.12, 2.2);
      yes.style.transform = `scale(${yesScale})`;

      // Move NO to a new spot
      placeNoRandomly();

      // Playful messages
      const lines = [
        "Nice try üòÑ",
        "Nope ‚Äî that button is shy üôà",
        "I‚Äôm just gonna‚Ä¶ scoot over here üèÉ‚Äç‚ôÇÔ∏èüí®",
        "C‚Äômon‚Ä¶ you know the answer üòåüíò",
        "From Brooklyn Bridge Park to forever‚Ä¶ remember? ü•π",
        "Okay, okay‚Ä¶ the 'Yes' is looking really good right now üòÑ"
      ];

      if (noAttempts >= 7) {
        note.textContent = "At this point the universe is clearly voting YES üíò";
      } else {
        note.textContent = lines[Math.min(noAttempts, lines.length-1)];
      }

      // Slight extra chaos on touch (so it doesn't get tapped)
      if (isTouch) setTimeout(placeNoRandomly, 80);
    }

    function placeNoRandomly(first=false){
      const pad = 10;
      const b = btns.getBoundingClientRect();

      // Keep NO within the button container bounds
      const maxX = b.width - no.offsetWidth - pad;
      const maxY = b.height - no.offsetHeight - pad;

      // If layout hasn't painted yet
      const safeMaxX = Math.max(maxX, 10);
      const safeMaxY = Math.max(maxY, 10);

      let x = Math.random() * safeMaxX;
      let y = Math.random() * safeMaxY;

      // Avoid overlapping YES too much
      const yb = yes.getBoundingClientRect();
      const nx = b.left + x;
      const ny = b.top + y;

      const overlapLikely =
        Math.abs((nx + no.offsetWidth/2) - (yb.left + yb.width/2)) < (yb.width/1.6) &&
        Math.abs((ny + no.offsetHeight/2) - (yb.top + yb.height/2)) < 45;

      if (overlapLikely) {
        x = (x + safeMaxX/2) % safeMaxX;
        y = (y + safeMaxY/2) % safeMaxY;
      }

      no.style.left = `${x}px`;
      no.style.top  = `${y}px`;

      if (first) {
        // Start slightly closer to YES so she notices the trick quickly
        no.style.left = `${Math.min(safeMaxX, b.width*0.62)}px`;
        no.style.top  = `${Math.min(safeMaxY, 6)}px`;
      }
    }

    // Tiny confetti without libraries
    function confetti() {
      for (let i=0;i<110;i++){
        const s = document.createElement("span");
        s.style.position="fixed";
        s.style.left = Math.random()*100 + "vw";
        s.style.top = "-10px";
        s.style.width = "8px";
        s.style.height = "8px";
        s.style.borderRadius="2px";
        s.style.background = ["#ff4d6d","#ffd166","#06d6a0","#118ab2","#cdb4db"][i%5];
        s.style.opacity = "0.92";
        s.style.transform = `rotate(${Math.random()*360}deg)`;
        document.body.appendChild(s);

        const fall = s.animate([
          { transform: s.style.transform, top: "-10px" },
          { transform: `rotate(${Math.random()*900}deg)`, top: "105vh" }
        ], { duration: 1200 + Math.random()*1400, easing: "cubic-bezier(.2,.8,.2,1)" });

        fall.onfinish = () => s.remove();
      }
    }

    // Reposition NO if window resizes (keeps it inside bounds)
    window.addEventListener("resize", () => placeNoRandomly());
  </script>
</body>
</html>
